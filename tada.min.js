/**
 * TADA v0.0.1
 * A very lightweight jQuery plugin to lazy load images
 * https://github.com/fallroot/tada
 *
 * Licensed under the MIT license.
 * Copyright 2015 fallroot
 */
!function(t,e){"use strict";function n(){A=!0,i(),p=y.delay?s(c,y.delay):c,d(t,"scroll",p),d(t,"resize",function(){i(),p()})}function r(t){for(var e in t||{})y[e]=t[e]}function i(){m=t.innerHeight||e.documentElement.clientHeight,h=t.innerWidth||e.documentElement.clientWidth,o()}function o(){var t=y.threshold.toString().match(/^\s*(\d+)\s*(px|%)?\s*$/);if(!t||!t.length)return void console.error("Threshold value must be number or px or %.");var e=t[1],n=t[2];"%"==n?(b=Math.floor(m*e/100),v=Math.floor(h*e/100)):b=v=e}function u(t){if(A||n(),"string"==typeof t)for(var r=e.querySelectorAll(t),i=0,o=r.length;o>i;++i)a(r[i]);else a(t);p()}function a(t){if(!(C.indexOf(t)>=0)){var e=t.getAttribute(y.attribute),n=t.tagName.toLowerCase();if("img"==n){if(t.getAttribute("src")==e)return}else if(t.style.backgroundImage=="url("+e+")")return;C.push(t)}}function l(t){if("none"==g(t).display)return!1;var e=t.getBoundingClientRect(),n=e.top>=-b&&e.top<=m+b,r=e.bottom>=-b&&e.bottom<=m+b,i=e.left>=-v&&e.left<=h+v,o=e.right>=-v&&e.right<=h+v;return(n||r)&&(i||o)}function c(){for(var t=C.slice(),e=0,n=t.length;n>e;++e){var r=t[e];l(r)&&f(r)}}function f(t){var e=t.getAttribute(y.attribute),n=t.tagName.toLowerCase();"img"==n?t.setAttribute("src",e):t.style.backgroundImage="url("+e+")",t.removeAttribute(y.attribute),C.splice(C.indexOf(t),1),"function"==typeof y.callback&&y.callback(t)}function s(t,e){var n;return function(){n&&clearTimeout(n),n=setTimeout(t,e)}}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function g(e){return t.getComputedStyle?getComputedStyle(e):e.currentStyle}var m,h,b,v,p,y={attribute:"data-src",delay:50,threshold:"20%"},A=!1,C=[];t.Tada={setup:r,add:u}}(window,document);