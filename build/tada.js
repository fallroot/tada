!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Tada=e():t.Tada=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=13)}([function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,i){var n=i(5),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();t.exports=o},function(t,e,i){var n=i(1).Symbol;t.exports=n},function(t,e,i){var n=i(0),r=i(4),o=i(7),s="Expected a function",c=Math.max,h=Math.min;t.exports=function(t,e,i){var u,l,a,d,f,p,b=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError(s);function y(e){var i=u,n=l;return u=l=void 0,b=e,d=t.apply(n,i)}function w(t){var i=t-p;return void 0===p||i>=e||i<0||g&&t-b>=a}function x(){var t=r();if(w(t))return O(t);f=setTimeout(x,function(t){var i=e-(t-p);return g?h(i,a-(t-b)):i}(t))}function O(t){return f=void 0,m&&u?y(t):(u=l=void 0,d)}function j(){var t=r(),i=w(t);if(u=arguments,l=this,p=t,i){if(void 0===f)return function(t){return b=t,f=setTimeout(x,e),v?y(t):d}(p);if(g)return f=setTimeout(x,e),y(p)}return void 0===f&&(f=setTimeout(x,e)),d}return e=o(e)||0,n(i)&&(v=!!i.leading,a=(g="maxWait"in i)?c(o(i.maxWait)||0,e):a,m="trailing"in i?!!i.trailing:m),j.cancel=function(){void 0!==f&&clearTimeout(f),b=0,u=p=l=f=void 0},j.flush=function(){return void 0===f?d:O(r())},j}},function(t,e,i){var n=i(1);t.exports=function(){return n.Date.now()}},function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i(6))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n=i(0),r=i(8),o=NaN,s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return o;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=h.test(t);return i||u.test(t)?l(t.slice(2),i?2:8):c.test(t)?o:+t}},function(t,e,i){var n=i(9),r=i(12),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||r(t)&&n(t)==o}},function(t,e,i){var n=i(2),r=i(10),o=i(11),s="[object Null]",c="[object Undefined]",h=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?c:s:h&&h in Object(t)?r(t):o(t)}},function(t,e,i){var n=i(2),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,c=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,c),i=t[c];try{t[c]=void 0;var n=!0}catch(t){}var r=s.call(t);return n&&(e?t[c]=i:delete t[c]),r}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,i){"use strict";i.r(e);var n=class{constructor(t){this.config=t,this.init()}init(){this.observer=new IntersectionObserver((t,e)=>{t.forEach(this.execute.bind(this))},{rootMargin:this.config.threshold})}add(t){if("string"==typeof t){let e=document.querySelectorAll(t);for(let t=0,i=e.length;t<i;++t)this.observer.observe(e[t])}else this.observer.observe(t)}execute(t){if(!t.isIntersecting)return;const e=t.target,i=e.tagName,n=e.getAttribute(this.config.attribute);"IMG"===i?e.setAttribute("src",n):e.style.backgroundImage=`url(${n})`,e.removeAttribute(this.config.attribute),this.observer.unobserve(e),"function"==typeof this.config.callback&&this.config.callback(e)}},r=i(3);var o=class{constructor(t){this.config=t,this.elements=[]}setup(t){if(this.initialized)throw new Error('"setup" should be called before other methods.');for(let e in t||{})this.config[e]=t[e]}init(){this.initialized||(this.initialized=!0,this.applyDebounce(),this.calcViewport(),this.calcThreshold(),this.bindEvents())}applyDebounce(){this.run=Object(r.debounce)(this.prepare.bind(this),this.config.delay)}calcViewport(){this.viewportHeight=window.innerHeight||document.documentElement.clientHeight,this.viewportWidth=window.innerWidth||document.documentElement.clientWidth}calcThreshold(){let t=this.config.threshold.toString().trim().match(/^(\d+)\s*(px|%)?$/i);if(!t||!t.length)throw new Error('"threshold" value should be a number or "px" or "%".');let e=t[1];"%"===t[2]?(this.thresholdHeight=Math.floor(this.viewportHeight*e/100),this.thresholdWidth=Math.floor(this.viewportWidth*e/100)):this.thresholdHeight=this.thresholdWidth=e}bindEvents(){window.addEventListener("scroll",this.onScroll.bind(this),!1),window.addEventListener("resize",this.onResize.bind(this),!1)}onScroll(){this.run()}onResize(){this.calcViewport(),this.calcThreshold(),this.run()}add(t){if(this.init(),"string"==typeof t){let e=document.querySelectorAll(t);for(let t=0,i=e.length;t<i;++t)this.addElement(e[t])}else this.addElement(t);this.run()}addElement(t){this.elements.indexOf(t)>=0||this.used(t)||this.elements.push(t)}used(t){let e=t.getAttribute(this.config.attribute);if("IMG"===t.tagName){if(t.getAttribute("src")===e)return!0}else if(t.style.backgroundImage===`url(${e})`)return!0;return!1}prepare(){let t=this.elements.slice();for(let e=0,i=t.length;e<i;++e){let i=t[e];this.valid(i)&&this.show(i)}}valid(t){if(this.hidden(t))return!1;let e=t.getBoundingClientRect(),i=e.top>=-this.thresholdHeight&&e.top<=this.viewportHeight+this.thresholdHeight,n=e.bottom>=-this.thresholdHeight&&e.bottom<=this.viewportHeight+this.thresholdHeight,r=e.left>=-this.thresholdWidth&&e.left<=this.viewportWidth+this.thresholdWidth,o=e.right>=-this.thresholdWidth&&e.right<=this.viewportWidth+this.thresholdWidth;return(i||n)&&(r||o)}hidden(t){return"none"===window.getComputedStyle(t).display}show(t){let e=t.getAttribute(this.config.attribute);"IMG"===t.tagName?t.setAttribute("src",e):t.style.backgroundImage=`url(${e})`,t.removeAttribute(this.config.attribute),this.elements.splice(this.elements.indexOf(t),1),"function"==typeof this.config.callback&&this.config.callback(t)}addContainer(t){this.initialized||this.init(),document.querySelectorAll(t).forEach(t=>{t.addEventListener("scroll",this.run)})}};const s={setup(t){this.config=Object.assign({},{attribute:"data-src",delay:50,threshold:"20%"},t),this.useIntersectionObserver="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype,this.useIntersectionObserver?this.instance=new n(this.config):this.instance=new o(this.config)},check(){this.instance||this.setup()},add(t){this.check(),this.instance.add(t)},addContainer(t){this.check(),!this.useIntersectionObserver&&this.instance.addContainer(t)},run(){this.check(),!this.useIntersectionObserver&&this.instance.run()}};e.default=s}])});